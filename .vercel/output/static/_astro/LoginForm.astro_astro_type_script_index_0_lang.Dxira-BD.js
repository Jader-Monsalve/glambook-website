import{AuthService as g}from"./authService.D8TLf2yW.js";import"./preload-helper.BlTxHScW.js";document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("auth-form"),r=document.getElementById("email"),E=document.getElementById("password"),n=document.getElementById("error-message"),d=document.getElementById("login-btn"),c=document.getElementById("login-text"),l=document.getElementById("login-spinner"),t=document.getElementById("reset-password-btn"),s=document.getElementById("reset-success");if(!a)return;a.addEventListener("submit",async e=>{e.preventDefault();const i=r.value.trim(),f=E.value;if(!i||!f){o("Por favor completa todos los campos");return}try{u(!0),m(),await g.signIn(i,f),window.location.href="/admin"}catch(v){u(!1),o(v.message||"Error al iniciar sesión")}}),t&&t.addEventListener("click",async()=>{const e=r.value.trim();if(!e){o("Por favor ingresa tu email primero"),r.focus();return}try{t.textContent="Enviando...",t.disabled=!0,m(),await g.sendPasswordReset(e),s&&s.classList.remove("hidden"),setTimeout(()=>{s&&s.classList.add("hidden")},5e3)}catch(i){o(i.message||"Error al enviar email de recuperación")}finally{t.textContent="¿Olvidaste tu contraseña?",t.disabled=!1}});function o(e){n&&(n.textContent=e,n.classList.remove("hidden"))}function m(){n&&n.classList.add("hidden")}function u(e){e?(d.disabled=!0,c.textContent="Iniciando sesión...",l.classList.remove("hidden")):(d.disabled=!1,c.textContent="Iniciar Sesión",l.classList.add("hidden"))}});
