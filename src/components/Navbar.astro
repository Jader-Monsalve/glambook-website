---
// CSS importado globalmente en Layout.astro
---

<nav class="fixed top-0 left-0 right-0 flex justify-between items-center p-4 bg-white shadow-md lg:px-8 xl:px-12 z-50 backdrop-blur-sm">
    <!-- LOGO CON TEXTO NORMAL -->
    <div class="flex items-center">
        <a href="/" class="font-vibes text-2xl sm:text-3xl lg:text-5xl text-pink-500">
            GlamBook
        </a>
    </div>

    <!-- MENÚ HAMBURGUESA (MÓVIL) -->
    <button id="mobile-menu-btn" class="md:hidden text-gray-800 text-2xl focus:outline-none">
        ☰
    </button>

    <!-- MENÚ DESKTOP -->
    <ul class="hidden md:flex gap-4 lg:gap-6 xl:gap-8 font-quicksand text-gray-800 text-base lg:text-lg">
        <li><a href="/" class="hover:text-pink-500 transition">Inicio</a></li>
        <li><a href="/about" class="hover:text-pink-500 transition">Servicios</a></li>
        <li class="relative group">
            <a href="/blog" class="hover:text-pink-500 transition flex items-center">
                Blog 
                <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </a>
            <!-- Dropdown Menu -->
            <div class="absolute top-full left-0 mt-2 w-56 bg-white rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50">
                <div class="py-2">
                    <a href="/blog" class="block px-4 py-2 text-gray-700 hover:bg-pink-50 hover:text-pink-500 transition">
                        Todos los Artículos
                    </a>
                    <a href="/cuidado-piel" class="block px-4 py-2 text-gray-700 hover:bg-pink-50 hover:text-pink-500 transition">
                        Cuidado de la Piel
                    </a>
                    <a href="/maquillaje-eventos" class="block px-4 py-2 text-gray-700 hover:bg-pink-50 hover:text-pink-500 transition">
                        Maquillaje para Eventos
                    </a>
                    <a href="/tendencia-uñas" class="block px-4 py-2 text-gray-700 hover:bg-pink-50 hover:text-pink-500 transition">
                        Tendencias de Uñas
                    </a>
                </div>
            </div>
        </li>
        <li><a href="/contact" class="hover:text-pink-500 transition">Contacto</a></li>
        <li><a href="/login" class="hover:text-pink-500 transition">Login-admin</a></li>
    </ul>

    <!-- BOTÓN -->
    <a
        href="/"
        class="hidden sm:block bg-pink-500 text-white px-3 py-2 sm:px-4 sm:py-2 lg:px-5 lg:py-3 rounded-xl text-sm sm:text-base lg:text-lg hover:bg-pink-600 transition"
    >
        <span class="hidden sm:inline lg:hidden">Cita</span>
        <span class="hidden lg:inline">Reservar cita</span>
    </a>
</nav>

<!-- MENÚ MÓVIL -->
<div id="mobile-menu" class="fixed top-0 right-0 h-full w-64 bg-white shadow-lg transform translate-x-full transition-transform duration-300 ease-in-out md:hidden z-50">
    <!-- Botón de cerrar -->
    <button id="close-menu-btn" class="absolute top-4 right-4 text-gray-800 text-2xl focus:outline-none">
        ✕
    </button>
    <ul class="flex flex-col p-4 pt-20 font-quicksand text-gray-800 text-lg">
        <li class="py-2"><a href="/" class="hover:text-pink-500 transition">Inicio</a></li>
        <li class="py-2"><a href="/about" class="hover:text-pink-500 transition">Servicios</a></li>
        <li class="py-2">
            <div class="group">
                <button id="mobile-blog-toggle" class="hover:text-pink-500 transition w-full text-left flex items-center justify-between">
                    Blog
                    <svg class="w-4 h-4 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
                <div id="mobile-blog-submenu" class="ml-4 mt-2 hidden">
                    <a href="/blog" class="block py-1 text-gray-600 hover:text-pink-500 transition">Todos los Artículos</a>
                    <a href="/cuidado-piel" class="block py-1 text-gray-600 hover:text-pink-500 transition">Cuidado de la Piel</a>
                    <a href="/maquillaje-eventos" class="block py-1 text-gray-600 hover:text-pink-500 transition">Maquillaje para Eventos</a>
                    <a href="/tendencia-uñas" class="block py-1 text-gray-600 hover:text-pink-500 transition">Tendencias de Uñas</a>
                </div>
            </div>
        </li>
        <li class="py-2"><a href="/contact" class="hover:text-pink-500 transition">Contacto</a></li>
        <li class="py-2"><a href="/login" class="hover:text-pink-500 transition">Login-admin</a></li>
            <a
                href="/"
                class="bg-pink-500 text-white px-4 py-2 rounded-xl text-base hover:bg-pink-600 transition inline-block"
            >
                Reservar cita
            </a>
        </li>
    </ul>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const closeMenuBtn = document.getElementById('close-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileBlogToggle = document.getElementById('mobile-blog-toggle');
        const mobileBlogSubmenu = document.getElementById('mobile-blog-submenu');

        mobileMenuBtn?.addEventListener('click', () => {
            const isOpen = !mobileMenu?.classList.contains('translate-x-full');
            if (isOpen) {
                mobileMenu?.classList.add('translate-x-full');
            } else {
                mobileMenu?.classList.remove('translate-x-full');
            }
        });

        closeMenuBtn?.addEventListener('click', () => {
            mobileMenu?.classList.add('translate-x-full');
        });

        // Toggle mobile blog submenu
        mobileBlogToggle?.addEventListener('click', () => {
            const isHidden = mobileBlogSubmenu?.classList.contains('hidden');
            const arrow = mobileBlogToggle.querySelector('svg');
            
            if (isHidden) {
                mobileBlogSubmenu?.classList.remove('hidden');
                arrow?.classList.add('rotate-180');
            } else {
                mobileBlogSubmenu?.classList.add('hidden');
                arrow?.classList.remove('rotate-180');
            }
        });

        // Close menu when clicking on menu links (except blog toggle)
        const menuLinks = mobileMenu?.querySelectorAll('a');
        menuLinks?.forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu?.classList.add('translate-x-full');
            });
        });
    });
</script>
